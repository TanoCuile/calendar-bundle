function initializeQuickColumn(a){a.QuickColumn=a.ColumnView.extend({initialize:function(b){this.interfaces=[];this.grid={};this.notes=[];this.buffers=[];this.calendarInfo=b.calendarInfo;this.calendarView=b.calendarView;if(b.date){this.date=b.date}else{this.date=this.calendarView.options.date}this.model=b.model;this.onNoteAdd=b.onNoteAdd},noteSetParameters:function(b,d,c){b.set("date",this.calendarView.options.date);b.set("duration",d);b.set("fromTime",c);b.set("bySite",this.calendarView.options.bySite)},initializeNote:function(b,d,c){if(a.ColumnView.validateNote(this.model,d,c,null,this.calendarView.options.date)){this.noteSetParameters(b,c,d);return this.initializeAddNoteView(b)}},initializeDefaultNote:function(c){var b=this.defaultDuration},getDefaultDuration:function(b){return b.data.currentDuration?b.data.currentDuration:b.column.view.defaultDuration},addNote:function(f,c){f.preventDefault(true);f.stopPropagation(true);var g=a.ColumnInfo.pixelsToTime(a.ColumnView.getDistance(f));var d=c.calendar.options.data.get("currentDay").get("fromTime")+g-g%15;if(!c.data.currentNoteView){var b=c.column.view.initializeNote(c.data.currentNote,d,c.column.view.getDefaultDuration(c))}else{c.column.view.noteSetParameters(c.data.currentNote,c.column.view.getDefaultDuration(c),d);var b=c.data.currentNoteView}if(b){c.column.showPopup=true;c.column.view.openedPopupsCount++;c.column.view.onNoteAdd.call(this,b)}},calculateBuffers:function(c){_.each(this.buffers,function(){this.buffers.pop()}.bind(this));delete this.grid.topBuffer;delete this.grid.bottomBuffer;if(c.get("active")&&this.calendarInfo.get("schedule").checkSupply(this.date)){var e=c.get("timeTo");var b=c.get("timeFrom");this.model.set("timeFrom",b);this.model.set("timeTo",e);var d=this.interfaces[0];d.show=true}else{var d=this.interfaces[0];d.show=false;this.buffers.push(this.initializeBuffer(0,a.ColumnInfo.timeToPixels(e-b)))}},drag:function(b,c,d){a.QuickColumn.onDrag(b,c,d)}},{onDrag:function(f,e,o){function h(r){var s=0;if(!r.calendarView.fromTime){s=r.calendarInfo.get("currentDay").get("fromTime")}else{s=r.calendarView.fromTime}if(s<r.model.get("timeFrom")){s=r.model.get("timeFrom")}return s}function q(r,s){var t=h(s.column);r.calculateTime(s.top,t)}function m(){return function(r,s){q(r,s);r.calculateOffsetTop();r.manipulateEement(function(t){t.css("left",0)});s.column.recalculateElement(r);s.column.checkNoteOffsets(r.model);s.column.onNoteAdd.call(this,r,true)}}function p(r,v,t,s){var u=h(r);return a.ColumnView.validateNote(r.model,u+a.ColumnInfo.pixelsToTime(v),t.get("duration"),t.get("id"),s)}var l=function(r){r.draggable({revert:true})};var c=$(o.draggable).attr("data-note");var d=$(o.draggable).attr("data-column");var j=$(o.draggable).attr("data-day-id");var g=$(o.draggable).attr("data-category");var k=null;var i=f.view.model.getNote(c);if(i){var n=o.position.top-f.view.grid.topBuffer.duration;i.onDragStopParameters={categoryId:g,column:f.view,dayId:j,date:f.date,top:n,currentColumn:k};var b=false;if(b=p(f.view,n,i,f.view.calendarView.options.date)){b=true;i.onDragStop=m()}if(!b){l(o.draggable);return false}return true}else{l(o.draggable);return false}}})};