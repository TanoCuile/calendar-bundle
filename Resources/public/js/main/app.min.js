(function(a){if(!window.MainElements){window.MainElements={}}if(!window.MainElements.initAppCallStack){window.MainElements.initAppCallStack=[]}var b=a.module("app",["ngTouch","ngDraggable","ngRoute","hmTouchEvents"]);b.config(["$interpolateProvider",function(c){c.startSymbol("{[").endSymbol("]}")}]);b.config(["$routeProvider",function(e){var d={controller:"CalendarDayController",templateUrl:"/bundles/calendar/html/salon-day-calendar.html.tpl"};var c={controller:"CalendarWeekController",templateUrl:"/bundles/calendar/html/salon-week-calendar.html.tpl"};e.when("/week/:date/:note",c).when("/:date/:note",d).otherwise(d)}]);a.forEach(MainElements.initAppCallStack,function(c){c(b)});b.controller("CalendarSwitcherController",["$scope","CalendarManager",function(c,d){c.calendar=d}]);b.controller("DataSwitchController",["$scope","CalendarManager",function(c,d){c.calendar=d;c.changeDate=function(e){console.log("DATE",e)}}]);b.controller("NoteRemoveController",["$scope","CalendarManager",function(c,d){c.calendar=d}]);b.controller("ColumnSwitcher",["$scope","CalendarManager",function(c,d){c.calendar=d;c.toggleCategory=function(e){e.active=!e.active}}]);b.controller("CalendarDayController",["$scope","CalendarManager",function(c,d){d.weekMode=false;c.calendar=d}]);b.controller("CalendarWeekController",["$scope","CalendarManager",function(c,d){d.weekMode=true;c.calendar=d}]);b.directive("scrolled",[function(){return{restrict:"A",link:function(d,i,f){var h="x";if($(i).attr("axis")){h=$(i).attr("axis")}var g=$(i).attr("data-scroll-width");var e=null;if(!g){g=false}else{if(g.localeCompare("floatFullWidth")==0){e=$(i).width();g=false}}var c=$(i).mCustomScrollbar({axis:h,alwaysShowScrollbar:1,autoExpandScrollbar:true,autoDraggerLength:true,setWidth:g,scrollButtons:{enable:true},horizontalScroll:true,advanced:{updateOnContentResize:true,autoExpandHorizontalScroll:true,autoScrollOnFocus:false,updateOnSelectorChange:false},callbacks:{onInit:function(){if(value){value.scrollPane=$(this)}if(e){i.firstElementChild.firstElementChild.firstElementChild.style["min-width"]=e+"px";$(i).mCustomScrollbar("update")}}}});if(value&&!value.scrollPane){value.scrollPane=c}}}}]);b.directive("datepicker",[function(){return{restrict:"A",template:'<input type="text">',scope:{changeDate:"&"},link:function(c,e,d){console.log("TEST",e,d,c)}}}]);b.directive("categoryPreview",["CalendarData",function(c){return{restrict:"E",template:'<div class="preview"></div>',replace:true,link:function(d,f,e){f.addClass("s"+d.category.id);d.$watch("category.active",function(g){if(g){f.addClass("active")}else{f.removeClass("active")}})}}}])})(angular);