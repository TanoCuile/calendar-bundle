(function(c){c.widget("ui.weekCalendar",{options:{date:new Date(),timeFormat:"h:i a",dateFormat:"M d, Y",alwaysDisplayTimeMinutes:true,use24Hour:false,daysToShow:7,firstDayOfWeek:0,useShortDayNames:false,timeSeparator:" to ",startParam:"start",endParam:"end",businessHours:{start:8,end:18,limitDisplay:false},newEventText:"New Event",timeslotHeight:20,defaultEventLength:2,timeslotsPerHour:4,buttons:true,buttonText:{today:"today",lastWeek:"&nbsp;&lt;&nbsp;",nextWeek:"&nbsp;&gt;&nbsp;"},scrollToHourMillis:500,allowCalEventOverlap:false,overlapEventsSeparate:false,readonly:false,draggable:function(e,d){return true},resizable:function(e,d){return true},eventClick:function(){},eventRender:function(e,d){return d},eventAfterRender:function(e,d){return d},eventDrag:function(e,d){},eventDrop:function(e,d){},eventResize:function(e,d){},eventNew:function(e,d){},eventMouseover:function(e,d){},eventMouseout:function(e,d){},calendarBeforeLoad:function(d){},calendarAfterLoad:function(d){},noEvents:function(){},shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_create:function(){var d=this;d._computeOptions();d._setupEventDelegation();d._renderCalendar();d._loadCalEvents();d._resizeCalendar();d._scrollToHour(d.options.date.getHours());c(window).unbind("resize.weekcalendar");c(window).bind("resize.weekcalendar",function(){d._resizeCalendar()})},refresh:function(){this._loadCalEvents(this.element.data("startDate"))},clear:function(){this._clearCalendar()},today:function(){this._clearCalendar();this._loadCalEvents(new Date())},prevWeek:function(){var d=new Date(this.element.data("startDate").getTime()-(b/6));this._clearCalendar();this._loadCalEvents(d)},nextWeek:function(){var d=new Date(this.element.data("startDate").getTime()+b+(b/7));this._clearCalendar();this._loadCalEvents(d)},gotoWeek:function(d){this._clearCalendar();this._loadCalEvents(d)},removeEvent:function(e){var d=this;d.element.find(".wc-cal-event").each(function(){if(c(this).data("calEvent").id===e){c(this).remove();return false}});d.element.find(".wc-day-column-inner").each(function(){d._adjustOverlappingEvents(c(this))})},removeUnsavedEvents:function(){var d=this;d.element.find(".wc-new-cal-event").each(function(){c(this).remove()});d.element.find(".wc-day-column-inner").each(function(){d._adjustOverlappingEvents(c(this))})},updateEvent:function(d){this._updateEventInCalendar(d)},getTimeslotTimes:function(g){var f=this.options;var e=f.businessHours.limitDisplay?f.businessHours.start:0;var d=new Date(g.getFullYear(),g.getMonth(),g.getDate(),e);var l=[];var j=d.getTime();for(var h=0;h<f.timeslotsPerDay;h++){var k=j+f.millisPerTimeslot;l[h]={start:new Date(j),startFormatted:this._formatDate(new Date(j),f.timeFormat),end:new Date(k),endFormatted:this._formatDate(new Date(k),f.timeFormat)};j=k}return l},formatDate:function(d,e){if(e){return this._formatDate(d,e)}else{return this._formatDate(d,this.options.dateFormat)}},formatTime:function(d,e){if(e){return this._formatDate(d,e)}else{return this._formatDate(d,this.options.timeFormat)}},_setOption:function(f,g){var e=this;if(e.options[f]!=g){var d=c.map(e.element.find(".wc-cal-event"),function(){return c(this).data("calEvent")});var h={};h[f]=g;e._renderEvents({events:d,options:h},e.element.find(".wc-day-column-inner"))}},_computeOptions:function(){var d=this.options;if(d.businessHours.limitDisplay){d.timeslotsPerDay=d.timeslotsPerHour*(d.businessHours.end-d.businessHours.start);d.millisToDisplay=(d.businessHours.end-d.businessHours.start)*60*60*1000;d.millisPerTimeslot=d.millisToDisplay/d.timeslotsPerDay}else{d.timeslotsPerDay=d.timeslotsPerHour*24;d.millisToDisplay=a;d.millisPerTimeslot=a/d.timeslotsPerDay}},_resizeCalendar:function(){var e=this.options;if(e&&c.isFunction(e.height)){var g=e.height(this.element);var d=this.element.find(".wc-header").outerHeight();var f=this.element.find(".wc-nav").outerHeight();this.element.find(".wc-scrollable-grid").height(g-f-d)}},_setupEventDelegation:function(){var d=this;var e=this.options;this.element.click(function(g){var f=c(g.target);if(f.data("preventClick")){return}if(f.hasClass("wc-cal-event")){e.eventClick(f.data("calEvent"),f,g)}else{if(f.parent().hasClass("wc-cal-event")){e.eventClick(f.parent().data("calEvent"),f.parent(),g)}}}).mouseover(function(g){var f=c(g.target);if(d._isDraggingOrResizing(f)){return}if(f.hasClass("wc-cal-event")){e.eventMouseover(f.data("calEvent"),f,g)}}).mouseout(function(g){var f=c(g.target);if(d._isDraggingOrResizing(f)){return}if(f.hasClass("wc-cal-event")){if(f.data("sizing")){return}e.eventMouseout(f.data("calEvent"),f,g)}})},_isDraggingOrResizing:function(d){return d.hasClass("ui-draggable-dragging")||d.hasClass("ui-resizable-resizing")},_renderCalendar:function(){var l,q,o,k,m;var n=this;var p=this.options;l=c('<div class="wc-container">').appendTo(n.element);if(p.buttons){q='<div class="wc-nav">                    <button class="wc-today">'+p.buttonText.today+'</button>                    <button class="wc-prev">'+p.buttonText.lastWeek+'</button>                    <button class="wc-next">'+p.buttonText.nextWeek+"</button>                    </div>";c(q).appendTo(l);l.find(".wc-nav .wc-today").click(function(){n.element.weekCalendar("today");return false});l.find(".wc-nav .wc-prev").click(function(){n.element.weekCalendar("prevWeek");return false});l.find(".wc-nav .wc-next").click(function(){n.element.weekCalendar("nextWeek");return false})}o='<table class="wc-header"><tbody><tr><td class="wc-time-column-header"></td>';for(var h=1;h<=p.daysToShow;h++){o+='<td class="wc-day-column-header wc-day-'+h+'"></td>'}o+='<td class="wc-scrollbar-shim"></td></tr></tbody></table>';k='<div class="wc-scrollable-grid">                <table class="wc-time-slots">                <tbody>                <tr>                <td class="wc-grid-timeslot-header"></td>                <td colspan="'+p.daysToShow+'">                <div class="wc-time-slot-wrapper">                <div class="wc-time-slots">';var e=p.businessHours.limitDisplay?p.businessHours.start:0;var f=p.businessHours.limitDisplay?p.businessHours.end:24;for(var h=e;h<f;h++){for(var g=0;g<p.timeslotsPerHour-1;g++){k+='<div class="wc-time-slot"></div>'}k+='<div class="wc-time-slot wc-hour-end"></div>'}k+='</div></div></td></tr><tr><td class="wc-grid-timeslot-header">';for(var h=e;h<f;h++){var d=(p.businessHours.start<=h&&p.businessHours.end>h)?"wc-business-hours":"";k+='<div class="wc-hour-header '+d+'">';if(p.use24Hour){k+='<div class="wc-time-header-cell">'+n._24HourForIndex(h)+"</div>"}else{k+='<div class="wc-time-header-cell">'+n._hourForIndex(h)+'<span class="wc-am-pm">'+n._amOrPm(h)+"</span></div>"}k+="</div>"}k+="</td>";for(var h=1;h<=p.daysToShow;h++){k+='<td class="wc-day-column day-'+h+'"><div class="wc-day-column-inner"></div></td>'}k+="</tr></tbody></table></div>";c(o+k).appendTo(l);m=l.find(".wc-day-column-inner");m.each(function(j,r){c(this).height(p.timeslotHeight*p.timeslotsPerDay);if(!p.readonly){n._addDroppableToWeekDay(c(this));n._setupEventCreationForWeekDay(c(this))}});l.find(".wc-time-slot").height(p.timeslotHeight-1);l.find(".wc-time-header-cell").css({height:(p.timeslotHeight*p.timeslotsPerHour)-11,padding:5})},_setupEventCreationForWeekDay:function(d){var e=this;var f=this.options;d.mousedown(function(l){var g=c(l.target);if(g.hasClass("wc-day-column-inner")){var j=c('<div class="wc-cal-event wc-new-cal-event wc-new-cal-event-creating"></div>');j.css({lineHeight:(f.timeslotHeight-2)+"px",fontSize:(f.timeslotHeight/2)+"px"});g.append(j);var k=g.offset().top;var m=l.pageY-k;var h=(m-(m%f.timeslotHeight))/f.timeslotHeight;var i=h*f.timeslotHeight;j.css({top:i});g.bind("mousemove.newevent",function(p){j.show();j.addClass("ui-resizable-resizing");var n=Math.round(p.pageY-k-i);var q=n%f.timeslotHeight;if(q<(n/2)){var o=n-q;j.css("height",o<f.timeslotHeight?f.timeslotHeight:o)}else{j.css("height",n+(f.timeslotHeight-q))}}).mouseup(function(){g.unbind("mousemove.newevent");j.addClass("ui-corner-all")})}}).mouseup(function(m){var h=c(m.target);var g=h.closest(".wc-day-column-inner");var l=g.find(".wc-new-cal-event-creating");if(l.length){if(!l.hasClass("ui-resizable-resizing")){l.css({height:f.timeslotHeight*f.defaultEventLength}).show()}var n=parseInt(l.css("top"));var j=e._getEventDurationFromPositionedEventElement(g,l,n);l.remove();var k={start:j.start,end:j.end,title:f.newEventText};var i=e._renderEvent(k,g);if(!f.allowCalEventOverlap){e._adjustForEventCollisions(g,i,k,k);e._positionEvent(g,i)}else{e._adjustOverlappingEvents(g)}f.eventNew(j,i)}})},_loadCalEvents:function(i){var h,d,j,e;var f=this;var g=this.options;h=i||g.date;d=f._dateFirstDayOfWeek(h);weekEndDate=f._dateLastMilliOfWeek(h);g.calendarBeforeLoad(f.element);f.element.data("startDate",d);f.element.data("endDate",weekEndDate);e=f.element.find(".wc-day-column-inner");f._updateDayColumnHeader(e);if(typeof g.data=="string"){if(g.loading){g.loading(true)}var k={};k[g.startParam||"start"]=Math.round(d.getTime()/1000);k[g.endParam||"end"]=Math.round(weekEndDate.getTime()/1000);c.getJSON(g.data,k,function(l){f._renderEvents(l,e);if(g.loading){g.loading(false)}})}else{if(c.isFunction(g.data)){g.data(d,weekEndDate,function(l){f._renderEvents(l,e)})}else{if(g.data){f._renderEvents(g.data,e)}}}f._disableTextSelect(e)},_updateDayColumnHeader:function(d){var e=this;var f=this.options;var g=e._cloneDate(e.element.data("startDate"));e.element.find(".wc-header td.wc-day-column-header").each(function(j,k){var h=f.useShortDayNames?f.shortDays[g.getDay()]:f.longDays[g.getDay()];c(this).html(h+"<br/>"+e._formatDate(g,f.dateFormat));if(e._isToday(g)){c(this).addClass("wc-today")}else{c(this).removeClass("wc-today")}g=e._addDays(g,1)});g=e._dateFirstDayOfWeek(e._cloneDate(e.element.data("startDate")));d.each(function(h,j){c(this).data("startDate",e._cloneDate(g));c(this).data("endDate",new Date(g.getTime()+(a)));if(e._isToday(g)){c(this).parent().addClass("wc-today")}else{c(this).parent().removeClass("wc-today")}g=e._addDays(g,1)})},_renderEvents:function(i,d){this._clearCalendar();var e=this;var g=this.options;var f;if(c.isArray(i)){f=e._cleanEvents(i)}else{if(i.events){f=e._cleanEvents(i.events)}}if(i.options){var h=false;c.each(i.options,function(j,k){if(k!==g[j]){g[j]=k;h=true}});e._computeOptions();if(h){e.element.empty();e._renderCalendar();d=e.element.find(".wc-time-slots .wc-day-column-inner");e._updateDayColumnHeader(d);e._resizeCalendar()}}c.each(f,function(k,l){var j=e._findWeekDayForEvent(l,d);if(j){e._renderEvent(l,j)}});d.each(function(){e._adjustOverlappingEvents(c(this))});g.calendarAfterLoad(e.element);if(!f.length){g.noEvents()}},_renderEvent:function(k,d){var e=this;var g=this.options;if(k.start.getTime()>k.end.getTime()){return}var i,f,h,j;i=k.id?"wc-cal-event":"wc-cal-event wc-new-cal-event";f='<div class="'+i+' ui-corner-all">                <div class="wc-time ui-corner-all"></div>                <div class="wc-title"></div></div>';h=c(f);j=g.eventRender(k,h);h=j?j.appendTo(d):h.appendTo(d);h.css({lineHeight:(g.timeslotHeight-2)+"px",fontSize:(g.timeslotHeight/2)+"px"});e._refreshEventDetails(k,h);e._positionEvent(d,h);h.show();if(!g.readonly&&g.resizable(k,h)){e._addResizableToCalEvent(k,h,d)}if(!g.readonly&&g.draggable(k,h)){e._addDraggableToCalEvent(k,h)}g.eventAfterRender(k,h);return h},_adjustOverlappingEvents:function(d){var e=this;if(e.options.allowCalEventOverlap){var f=e._groupOverlappingEventElements(d);c.each(f,function(){var g=this;c.each(g,function(j){var k=this;if(e.options.overlapEventsSeparate){var i=100/g.length;var h=j*i}else{var i=100-((g.length-1)*10);var h=j*10}c.each(k,function(){if(!e.options.overlapEventsSeparate){c(this).bind("mouseover.z-index",function(){var l=c(this);c.each(k,function(){c(this).css({"z-index":"1"})});l.css({"z-index":"3"})})}c(this).css({width:i+"%",left:h+"%",right:0})})})})}},_groupOverlappingEventElements:function(e){var h=e.find(".wc-cal-event:visible");var g=h.sort(function(l,k){return c(l).data("calEvent").start.getTime()-c(k).data("calEvent").start.getTime()});var i=new Date(0,0,0);var d=[];var j=[];var f;c.each(g,function(){f=c(this);if(j.length>0){if(i.getTime()<=f.data("calEvent").start.getTime()){d.push(j);j=[]}}for(var k=0;k<j.length;k++){if(j[k].length>0){if(j[k][j[k].length-1].data("calEvent").end.getTime()<=f.data("calEvent").start.getTime()){j[k].push(f);if(i.getTime()<f.data("calEvent").end.getTime()){i=f.data("calEvent").end}return}}}j.push([f]);if(i.getTime()<f.data("calEvent").end.getTime()){i=f.data("calEvent").end}});if(j.length>0){d.push(j)}return d},_findWeekDayForEvent:function(f,e){var d;e.each(function(){if(c(this).data("startDate").getTime()<=f.start.getTime()&&c(this).data("endDate").getTime()>=f.end.getTime()){d=c(this);return false}});return d},_updateEventInCalendar:function(h){var e=this;var f=this.options;e._cleanEvent(h);if(h.id){e.element.find(".wc-cal-event").each(function(){if(c(this).data("calEvent").id===h.id||c(this).hasClass("wc-new-cal-event")){c(this).remove();return false}})}var d=e._findWeekDayForEvent(h,e.element.find(".wc-time-slots .wc-day-column-inner"));if(d){var g=e._renderEvent(h,d);e._adjustForEventCollisions(d,g,h,h);e._refreshEventDetails(h,g);e._positionEvent(d,g);e._adjustOverlappingEvents(d)}},_positionEvent:function(f,i){var m=this.options;var l=i.data("calEvent");var j=f.height()/m.millisToDisplay;var g=m.businessHours.limitDisplay?m.businessHours.start:0;var h=l.start.getTime()-new Date(l.start.getFullYear(),l.start.getMonth(),l.start.getDate(),g).getTime();var e=l.end.getTime()-l.start.getTime();var k=j*h;var d=j*e;i.css({top:k,height:d})},_getEventDurationFromPositionedEventElement:function(e,i,h){var g=this.options;var d=g.businessHours.limitDisplay?g.businessHours.start*60*60*1000:0;var j=new Date(e.data("startDate").getTime()+d+Math.round(h/g.timeslotHeight)*g.millisPerTimeslot);var f=new Date(j.getTime()+(i.height()/g.timeslotHeight)*g.millisPerTimeslot);return{start:j,end:f}},_adjustForEventCollisions:function(e,h,i,g,f){var l=this.options;if(l.allowCalEventOverlap){return}var k,d;var j=this;e.find(".wc-cal-event").not(h).each(function(){var m=c(this).data("calEvent");if(i.start.getTime()<m.end.getTime()&&i.end.getTime()>=m.end.getTime()){k=m.end}if(i.end.getTime()>m.start.getTime()&&i.start.getTime()<=m.start.getTime()){d=m.start}if(g.resizable==false||(i.end.getTime()<=m.end.getTime()&&i.start.getTime()>=m.start.getTime())){k=g.start;d=g.end;return false}});i.start=k||i.start;if(k&&f){i.end=new Date(k.getTime()+(g.end.getTime()-g.start.getTime()));j._adjustForEventCollisions(e,h,i,g)}else{i.end=d||i.end}if(i.start.getTime()>=i.end.getTime()){i.start=g.start;i.end=g.end}h.data("calEvent",i)},_addDraggableToCalEvent:function(h,g){var e=this;var f=this.options;var d=e._findWeekDayForEvent(h,e.element.find(".wc-time-slots .wc-day-column-inner"));g.draggable({handle:".wc-time",containment:".wc-scrollable-grid",revert:"valid",opacity:0.5,grid:[g.outerWidth()+1,f.timeslotHeight],start:function(i,j){var k=j.draggable;f.eventDrag(h,k)}})},_addDroppableToWeekDay:function(d){var e=this;var f=this.options;d.droppable({accept:".wc-cal-event",drop:function(h,n){var k=n.draggable;var m=Math.round(parseInt(n.position.top));var i=e._getEventDurationFromPositionedEventElement(d,k,m);var l=k.data("calEvent");var o=c.extend(true,{},l,{start:i.start,end:i.end});e._adjustForEventCollisions(d,k,o,l,true);var p=e.element.find(".wc-day-column-inner");f.eventDrop(o,l,g);var g=e._renderEvent(o,e._findWeekDayForEvent(o,p));k.hide();k.data("preventClick",true);var j=e._findWeekDayForEvent(k.data("calEvent"),e.element.find(".wc-time-slots .wc-day-column-inner"));if(j.data("startDate")!=d.data("startDate")){e._adjustOverlappingEvents(j)}e._adjustOverlappingEvents(d);setTimeout(function(){k.remove()},1000)}})},_addResizableToCalEvent:function(h,g,d){var e=this;var f=this.options;g.resizable({grid:f.timeslotHeight,containment:d,handles:"s",minHeight:f.timeslotHeight,stop:function(k,l){var m=l.element;var j=new Date(m.data("calEvent").start.getTime()+(m.height()/f.timeslotHeight)*f.millisPerTimeslot);var i=c.extend(true,{},h,{start:h.start,end:j});e._adjustForEventCollisions(d,m,i,h);e._refreshEventDetails(i,m);e._positionEvent(d,m);e._adjustOverlappingEvents(d);f.eventResize(i,h,m);m.data("preventClick",true);setTimeout(function(){m.removeData("preventClick")},500)}})},_refreshEventDetails:function(i,h){var d=this;var f=this.options;var e=3600000;var g=i.end.getTime()-i.start.getTime()<=(e/f.timeslotsPerHour);if(g){h.find(".wc-time").html(d._formatDate(i.start,f.timeFormat)+": "+i.title)}else{h.find(".wc-time").html(d._formatDate(i.start,f.timeFormat)+f.timeSeparator+d._formatDate(i.end,f.timeFormat))}h.find(".wc-title").html(i.title);h.data("calEvent",i)},_clearCalendar:function(){this.element.find(".wc-day-column-inner div").remove()},_scrollToHour:function(e){var f=this;var g=this.options;var h=this.element.find(".wc-scrollable-grid");var i=e;if(f.options.businessHours.limitDisplay){if(e<=f.options.businessHours.start){i=0}else{if(e>f.options.businessHours.end){i=f.options.businessHours.end-f.options.businessHours.start-1}else{i=e-f.options.businessHours.start}}}var d=this.element.find(".wc-grid-timeslot-header .wc-hour-header:eq("+i+")");h.animate({scrollTop:0},0,function(){var k=d.offset().top;var j=k-h.offset().top-d.outerHeight();h.animate({scrollTop:j},g.scrollToHourMillis)})},_hourForIndex:function(d){if(d===0){return 12}else{if(d<13){return d}else{return d-12}}},_24HourForIndex:function(d){if(d===0){return"00:00"}else{if(d<10){return"0"+d+":00"}else{return d+":00"}}},_amOrPm:function(d){return d<12?"AM":"PM"},_isToday:function(e){var f=this._cloneDate(e);this._clearTime(f);var d=new Date();this._clearTime(d);return d.getTime()===f.getTime()},_cleanEvents:function(e){var d=this;c.each(e,function(f,g){d._cleanEvent(g)});return e},_cleanEvent:function(d){if(d.date){d.start=d.date}d.start=this._cleanDate(d.start);d.end=this._cleanDate(d.end);if(!d.end){d.end=this._addDays(this._cloneDate(d.start),1)}},_disableTextSelect:function(d){d.each(function(){if(c.browser.mozilla){c(this).css("MozUserSelect","none")}else{if(c.browser.msie){c(this).bind("selectstart",function(){return false})}else{c(this).mousedown(function(){return false})}}})},_dateFirstDayOfWeek:function(e){var d=this;var f=new Date(e.getFullYear(),e.getMonth(),e.getDate());var g=new Date(f);g.setDate(g.getDate()-d._getAdjustedDayIndex(f));return g},_dateLastDayOfWeek:function(e){var d=this;var f=new Date(e.getFullYear(),e.getMonth(),e.getDate());var g=new Date(f);g.setDate(g.getDate()+(6-this._getAdjustedDayIndex(f)));return g},_getAdjustedDayIndex:function(e){var f=new Date(e.getFullYear(),e.getMonth(),e.getDate());var d=f.getDay();var g=[0,1,2,3,4,5,6];this._rotate(g,this.options.firstDayOfWeek);return g[d]},_dateLastMilliOfWeek:function(d){var e=this._dateLastDayOfWeek(d);return new Date(e.getTime()+(a))},_clearTime:function(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e},_addDays:function(f,g,e){f.setDate(f.getDate()+g);if(e){return f}return this._clearTime(f)},_rotate:function(f,h){for(var e=f.length,h=(Math.abs(h)>=e&&(h%=e),h<0&&(h+=e),h),g,d;h;h=(Math.ceil(e/h)-1)*h-e+(e=h)){for(g=e;g>h;d=f[--g],f[g]=f[g-h],f[g-h]=d){}}return f},_cloneDate:function(e){return new Date(e.getTime())},_cleanDate:function(e){if(typeof e=="string"){return c.weekCalendar.parseISO8601(e,true)||Date.parse(e)||new Date(parseInt(e))}if(typeof e=="number"){return new Date(e)}return e},_formatDate:function(f,k){var e=this.options;var j="";for(var h=0;h<k.length;h++){var d=k.charAt(h);if(c.isFunction(this._replaceChars[d])){var g=this._replaceChars[d](f,e);if(g==="00"&&e.alwaysDisplayTimeMinutes===false){j=j.slice(0,-1)}else{j+=g}}else{j+=d}}return j},_replaceChars:{d:function(d){return(d.getDate()<10?"0":"")+d.getDate()},D:function(e,d){return d.shortDays[e.getDay()]},j:function(d){return d.getDate()},l:function(e,d){return d.longDays[e.getDay()]},N:function(d){return d.getDay()+1},S:function(d){return(d.getDate()%10==1&&d.getDate()!=11?"st":(d.getDate()%10==2&&d.getDate()!=12?"nd":(d.getDate()%10==3&&d.getDate()!=13?"rd":"th")))},w:function(d){return d.getDay()},z:function(d){return"Not Yet Supported"},W:function(d){return"Not Yet Supported"},F:function(e,d){return d.longMonths[e.getMonth()]},m:function(d){return(d.getMonth()<9?"0":"")+(d.getMonth()+1)},M:function(e,d){return d.shortMonths[e.getMonth()]},n:function(d){return d.getMonth()+1},t:function(d){return"Not Yet Supported"},L:function(d){return"Not Yet Supported"},o:function(d){return"Not Supported"},Y:function(d){return d.getFullYear()},y:function(d){return(""+d.getFullYear()).substr(2)},a:function(d){return d.getHours()<12?"am":"pm"},A:function(d){return d.getHours()<12?"AM":"PM"},B:function(d){return"Not Yet Supported"},g:function(d){return d.getHours()%12||12},G:function(d){return d.getHours()},h:function(d){return((d.getHours()%12||12)<10?"0":"")+(d.getHours()%12||12)},H:function(d){return(d.getHours()<10?"0":"")+d.getHours()},i:function(d){return(d.getMinutes()<10?"0":"")+d.getMinutes()},s:function(d){return(d.getSeconds()<10?"0":"")+d.getSeconds()},e:function(d){return"Not Yet Supported"},I:function(d){return"Not Supported"},O:function(d){return(d.getTimezoneOffset()<0?"-":"+")+(d.getTimezoneOffset()/60<10?"0":"")+(d.getTimezoneOffset()/60)+"00"},T:function(d){return"Not Yet Supported"},Z:function(d){return d.getTimezoneOffset()*60},c:function(d){return"Not Yet Supported"},r:function(d){return d.toString()},U:function(d){return d.getTime()/1000}}});c.extend(c.ui.weekCalendar,{version:"1.2.2-pre"});var a=86400000;var b=a*7;c.weekCalendar=function(){return{parseISO8601:function(g,e){var h="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";var j=g.match(new RegExp(h));if(!j){return null}var i=0;var f=new Date(j[1],0,1);if(j[3]){f.setMonth(j[3]-1)}if(j[5]){f.setDate(j[5])}if(j[7]){f.setHours(j[7])}if(j[8]){f.setMinutes(j[8])}if(j[10]){f.setSeconds(j[10])}if(j[12]){f.setMilliseconds(Number("0."+j[12])*1000)}if(!e){if(j[14]){i=(Number(j[16])*60)+Number(j[17]);i*=((j[15]=="-")?1:-1)}i-=f.getTimezoneOffset()}return new Date(Number(f)+(i*60*1000))}}}()})(jQuery);